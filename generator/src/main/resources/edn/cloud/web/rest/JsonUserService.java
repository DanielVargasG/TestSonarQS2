 package edn.cloud.web.rest;

import java.io.Serializable;
import java.util.ArrayList;
import java.util.Base64;
import java.util.Collection;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

import javax.servlet.http.HttpServletRequest;
import javax.ws.rs.DELETE;
import javax.ws.rs.GET;
import javax.ws.rs.POST;
import javax.ws.rs.Path;
import javax.ws.rs.PathParam;
import javax.ws.rs.Produces;
import javax.ws.rs.core.Context;
import javax.ws.rs.core.MediaType;
import javax.ws.rs.core.Response;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

import com.google.gson.Gson;

import edn.cloud.business.api.util.UtilCodesEnum;
import edn.cloud.business.dto.SFUserPhotoDto;
import edn.cloud.business.dto.integration.DocInfoDto;
import edn.cloud.business.dto.integration.SFPhotoDto;
import edn.cloud.business.dto.integration.SFUserDto;
import edn.cloud.business.dto.ppd.api.PpdSigningDataDto;
import edn.cloud.business.dto.ppd.api.PpdtokenDto;
import edn.cloud.business.dto.sfactor.SFSigningControlHeadDto;
import edn.cloud.ppdoc.business.facade.PpdApiUtilsFacade;
import edn.cloud.ppdoc.business.facade.PpdEmployeeApiFacade;
import edn.cloud.ppdoc.business.facade.PpdGeneratorFacade;
import edn.cloud.sfactor.business.facade.SuccessFactorFacade;
import edn.cloud.sfactor.business.impl.document.SuccessFactorAuthorization;
import edn.cloud.sfactor.persistence.dao.EmployeeDAO;
import edn.cloud.sfactor.persistence.dao.FavoriteDAO;
import edn.cloud.sfactor.persistence.entities.Employee;
import edn.cloud.sfactor.persistence.entities.Favorite;
import edn.cloud.sfactor.persistence.entities.SignatureFileControl;
import edn.cloud.web.service.SessionCreateFilter;

@Path("/json/user")
public class JsonUserService {
	@Context
	HttpServletRequest request;

	private final Logger logger = LoggerFactory.getLogger(this.getClass());
	private PpdGeneratorFacade ppdGeneratorFacade = new PpdGeneratorFacade();
	private PpdApiUtilsFacade ppdApiUtilsFacade = new PpdApiUtilsFacade();
	private PpdEmployeeApiFacade ppdEmployeeF = new PpdEmployeeApiFacade();
	private SuccessFactorFacade successFactorFacade = new SuccessFactorFacade();	
	private PpdtokenDto objToken;

	@GET
	@Path("/document")
	@Produces(MediaType.APPLICATION_JSON)
	public Response getEmployeeDocumentList() {
		List<DocInfoDto> doc = new ArrayList<DocInfoDto>();
		try {
			String data = ppdApiUtilsFacade.getToken();
			Gson token = new Gson();
			Gson gson = new Gson();

			Map<String, Serializable> map = new HashMap<String, Serializable>();
			map.put("employee_id", "mtuitel");
			map.put("per_page", 100);

			logger.info(gson.toJson(map));

			this.objToken = token.fromJson(data, PpdtokenDto.class);
			if (objToken.getToken_type().equals("bearer")) {
				DocInfoDto[] data2 = ppdEmployeeF.wServiceEmployeeDocument("mtuitel");

				FavoriteDAO favDAO = new FavoriteDAO();
				Collection<Favorite> li = favDAO.findAllFav(getSFUser());

				for (int i = 0; i < data2.length; i++) {
					DocInfoDto docTemplate = data2[i];

					for (Favorite favorite : li) {
						if (favorite.getTemplateId().equals(docTemplate.getId())) {
							docTemplate.setActive(true);
						}
					}
					doc.add(docTemplate);

				}
				return Response.status(200).entity(doc).build();
			} else {
				logger.error("> error - Session was not opened");
				return Response.status(200).entity(doc).build();
			}
		} catch (Exception ex) {

			logger.error("> error - Connection was not working with PPDoc");
			logger.error(ex.toString());

			return Response.status(200).entity(doc).build();
		}

	}

	@GET
	@Path("/list")
	@Produces(MediaType.APPLICATION_JSON)
	public Response getUsers() {
		EmployeeDAO uDAO = new EmployeeDAO();
		Collection<Employee> li = uDAO.getAll();

		logger.info("length {}", li.size());

		return Response.status(200).entity(li).build();
	}

	@GET
	@Path("/list/{id}")
	@Produces(MediaType.APPLICATION_JSON)
	public Response getUser(@PathParam("id") String id) {
		SFUserDto sfuser = new SFUserDto();
		try {
			sfuser = successFactorFacade.userGetProfile(id, "9999-01-01");
			logger.trace(">> {}", sfuser.callFirstName());
			logger.trace(">> {}", sfuser.callLastName());

		} catch (Exception ex) {
			logger.error("User '{}' could not be extracted from backend. The user will be initialized simply.", id, ex);
			// logger.error(">> SF Error not listed");
		}

		return Response.status(200).entity(sfuser).build();
	}

	@GET
	@Path("/signatures")
	@Produces(MediaType.APPLICATION_JSON)
	public Response getSignatures(String externalId) {
		List<DocInfoDto> doc = new ArrayList<DocInfoDto>();

		try 
		{
			//get control signature successfactor
			String idUserSession = getSFUser();
			List<SignatureFileControl> signatureFileControlList = successFactorFacade.signatureGetFileControlList(idUserSession,UtilCodesEnum.CODE_STATUS_PPD_SIGNATURE_PENDING);
			SFSigningControlHeadDto response = ppdGeneratorFacade.actionGetSigningProcessList(idUserSession,signatureFileControlList);
			return Response.status(200).entity(response).build();

		} catch (Exception ex) {

			logger.error("> error - Connection was not working with PPDoc");
			logger.error(ex.toString());

			return Response.status(200).entity(doc).build();
		}
	}

	@GET
	@Path("/favorite")
	@Produces(MediaType.APPLICATION_JSON)
	public Response getFav() {
		FavoriteDAO favDAO = new FavoriteDAO();
		Collection<Favorite> li = favDAO.findAllFav(getSFUser());
		return Response.status(200).entity(li).build();
	}

	@POST
	@Path("/favorite/{id}")
	@Produces(MediaType.APPLICATION_JSON)
	public Response addFavorite(@PathParam("id") String id) {
		String result = "500";
		result = "200";

		String user = getSFUser();

		FavoriteDAO favDAO = new FavoriteDAO();
		Favorite fav = new Favorite();
		fav.setUserId(user);
		fav.setTemplateId(id);
		fav.setKeyId(user + "_" + id);
		favDAO.saveNew(fav);

		return Response.status(200).entity(result).build();
	}

	@DELETE
	@Path("/favorite/{id}")
	@Produces(MediaType.APPLICATION_JSON)
	public Response deleteFavorite(@PathParam("id") String id) {
		String user = getSFUser();
		FavoriteDAO favDAO = new FavoriteDAO();
		Favorite fav = favDAO.findByID(user + "_" + id);
		favDAO.delete(fav);
		return Response.status(200).build();
	}

	@GET
	@Path("/me/{userId}")
	@Produces(MediaType.APPLICATION_JSON)
	public Response getLoggedInUser(@PathParam("userId") String userId) {
		SFUserDto sfUser = new SFUserDto();
		try 
		{
			if(userId==null || (userId!=null && userId.equals("null")))
				userId = getSFUser();
			
			sfUser = successFactorFacade.userGetProfile(userId, UtilCodesEnum.DATE_SOURCE_USER_ACTIVE.getCode());
			
			if(sfUser==null)
				sfUser = new SFUserDto();			
		} catch (Exception ex) 
		{
			logger.error("User '{}' could not be extracted from backend. The user will be initialized simply.", sfUser, ex);
			ex.printStackTrace();			
			sfUser = new SFUserDto();			
		}

		return Response.status(200).entity(sfUser).build();
	}

	private String getSFUser() {
		return (String) request.getSession().getAttribute(SessionCreateFilter.SF_USER_ID_ATTR_NAME);
	}

	@GET
	@Path("/teamHR/{id}/{source}")
	@Produces(MediaType.APPLICATION_JSON)
	public Response getTeamHRUser(@PathParam("id") String onlyActive, @PathParam("source") String namesource) {		
		logger.error(getSFUser());
		logger.error(onlyActive);
		logger.error(namesource);
		List<SFUserPhotoDto> sfUser = new ArrayList<>();
		try {
			if(!namesource.equals("all")){
				sfUser = successFactorFacade.teamGet(getSFUser(), onlyActive, namesource);
			}
		
			
		} catch (Exception ex) {
			logger.error("User '{}' could not be extracted from backend. The user will be initialized simply.", sfUser, ex);
			logger.error("error");
		}

		return Response.status(200).entity(sfUser).build();
	}
	
	@GET
	@Path("/teamManager/{id}")
	@Produces(MediaType.APPLICATION_JSON)
	public Response getTeamManagerUser(@PathParam("id") String onlyActive) {
		logger.error(getSFUser());

		List<SFUserPhotoDto> sfUser = new ArrayList<>();
		try {
			sfUser = successFactorFacade.teamMGet(getSFUser(), onlyActive);

		} catch (Exception ex) {
			logger.error("User '{}' could not be extracted from backend. The user will be initialized simply.", sfUser, ex);
			logger.error("error");
		}

		return Response.status(200).entity(sfUser).build();
	}
	
	@GET
	@Path("/search/{id}/{id2}")
	@Produces(MediaType.APPLICATION_JSON) 
	public Response getSearchUser(@PathParam("id") String id,@PathParam("id2") String onlyActive) {
		logger.error(id);

		List<SFUserPhotoDto> sfUser = new ArrayList<>();
		try {
			sfUser = successFactorFacade.search(id, onlyActive);

		} catch (Exception ex) {
			logger.error("User '{}' could not be extracted from backend. The user will be initialized simply.", sfUser, ex);
			logger.error("error");
		}

		return Response.status(200).entity(sfUser).build();
	}

	@GET
	@Path("/image/{id}")
	@Produces({ "image/png", "image/jpg" })
	public Response getPhotoUser(@PathParam("id") String id) {
		logger.error("photo from : " + id);
		SFPhotoDto sfUser = null;
		try {
			sfUser = successFactorFacade.imgGet(id.replace("@2", ""));

			if (sfUser != null) {
				String st = sfUser.photo.replace("\n", "").replace("\r", "");
				sfUser.photo = st;
			} else {
				sfUser = new SFPhotoDto();
				sfUser.photo = "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LzEuMS8iCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgICAgICAgICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICAgICAgICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICAgICAgICAgIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8eG1wOkNyZWF0ZURhdGU+MjAxNy0xMi0wOVQxNjo0OToxNC0wNTowMDwveG1wOkNyZWF0ZURhdGU+CiAgICAgICAgIDx4bXA6TW9kaWZ5RGF0ZT4yMDE3LTEyLTA5VDE2OjUwOjM2LTA1OjAwPC94bXA6TW9kaWZ5RGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNy0xMi0wOVQxNjo1MDozNi0wNTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNSAoTWFjaW50b3NoKTwveG1wOkNyZWF0b3JUb29sPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8cGhvdG9zaG9wOkNvbG9yTW9kZT4zPC9waG90b3Nob3A6Q29sb3JNb2RlPgogICAgICAgICA8cGhvdG9zaG9wOklDQ1Byb2ZpbGU+RGlzcGxheTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx4bXBNTTpJbnN0YW5jZUlEPnhtcC5paWQ6ODk3ZmQwNDAtM2M2Zi00YmQyLWFlMGItOGViZWUyZTQ5MWUxPC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD5hZG9iZTpkb2NpZDpwaG90b3Nob3A6NjRlMmI4OTktMWRiOS0xMTdiLWJlYjItZGIxMjY3YzNmYjAxPC94bXBNTTpEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06T3JpZ2luYWxEb2N1bWVudElEPnhtcC5kaWQ6Y2JmMjRmYTAtNWE2My00MDQ3LThmYWYtMzU5MTE2ZGExYjQ1PC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDpjYmYyNGZhMC01YTYzLTQwNDctOGZhZi0zNTkxMTZkYTFiNDU8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTctMTItMDlUMTY6NTA6MjMtMDU6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y29udmVydGVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpwYXJhbWV0ZXJzPmZyb20gaW1hZ2UvcG5nIHRvIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3A8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5kZXJpdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpwYXJhbWV0ZXJzPmNvbnZlcnRlZCBmcm9tIGltYWdlL3BuZyB0byBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wPC9zdEV2dDpwYXJhbWV0ZXJzPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDo3ZGVkNTE4My0yZDJlLTRmODQtYmE3YS1iMDEwMzMwMmQyMDI8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTctMTItMDlUMTY6NTA6MjMtMDU6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDo1M2FjOGM0Yy0wZmI0LTRhMDEtYTZjOS0wMDRhZmVkNzRmMDU8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTctMTItMDlUMTY6NTA6MzYtMDU6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y29udmVydGVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpwYXJhbWV0ZXJzPmZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5kZXJpdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpwYXJhbWV0ZXJzPmNvbnZlcnRlZCBmcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvcG5nPC9zdEV2dDpwYXJhbWV0ZXJzPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDo4OTdmZDA0MC0zYzZmLTRiZDItYWUwYi04ZWJlZTJlNDkxZTE8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTctMTItMDlUMTY6NTA6MzYtMDU6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgPC9yZGY6U2VxPgogICAgICAgICA8L3htcE1NOkhpc3Rvcnk+CiAgICAgICAgIDx4bXBNTTpEZXJpdmVkRnJvbSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgIDxzdFJlZjppbnN0YW5jZUlEPnhtcC5paWQ6NTNhYzhjNGMtMGZiNC00YTAxLWE2YzktMDA0YWZlZDc0ZjA1PC9zdFJlZjppbnN0YW5jZUlEPgogICAgICAgICAgICA8c3RSZWY6ZG9jdW1lbnRJRD54bXAuZGlkOjdkZWQ1MTgzLTJkMmUtNGY4NC1iYTdhLWIwMTAzMzAyZDIwMjwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgICAgPHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOmNiZjI0ZmEwLTVhNjMtNDA0Ny04ZmFmLTM1OTExNmRhMWI0NTwvc3RSZWY6b3JpZ2luYWxEb2N1bWVudElEPgogICAgICAgICA8L3htcE1NOkRlcml2ZWRGcm9tPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpYUmVzb2x1dGlvbj4xNDQwMDAwLzEwMDAwPC90aWZmOlhSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj4xNDQwMDAwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjY1NTM1PC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj4zNjg8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+MzY4PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz7JkMCSAAAAIGNIUk0AAG11AABzoAABCAAAAH6fAABkkwABCfAAADF9AAARycEAGlQAAB01SURBVHja7N1LjCT3Yd/xX1VXd1VXV83OY+chEKJIU2QiIJLFBLIIBbZMKoANRNYhgaCTEcCHJM7FCWLmnJOBADZ8k3MJ4iAJIFlAAOoUQAClQwRElEUJpg4iBTGJCHlnep47XV1d1V1dlUPPDGe4szP9rkd/P8AC0nJnH//u+U5N1f9h/M7X/yITAKB0TIYAAAg4AICAAwDuYzEEKBq7VpNtWWpYlkzDkGFIhqQ0k9IsU5qmGmaZhmk6+pFl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";
			}

			byte[] imgBytes = Base64.getDecoder().decode(sfUser.photo); 

			return Response.ok(imgBytes).status(200).header("content-disposition", "inline; filename = img.jpg").build();

		} catch (Exception ex) {
			logger.error("User '{}' could not be extracted from backend. The user will be initialized simply.", sfUser, ex);
			logger.error("error");

			return Response.status(404).build();
		}

	}

	@GET
	@Path("/count/pending")
	@Produces(MediaType.APPLICATION_JSON)
	public Response getPending() 
	{
		String idUserSession = getSFUser();
		SuccessFactorAuthorization SFAuthoFacade = new SuccessFactorAuthorization();
		
		Map<String, Serializable> map = new HashMap<String, Serializable>();
		map.put("count", successFactorFacade.getCountDocumentByUserTemplate(idUserSession, 
				"'"+UtilCodesEnum.CODE_STATUS_PENDING_DOC.getCode()+"',"+
				"'"+UtilCodesEnum.CODE_STATUS_PENDING_SIGN_DOC.getCode()+"'")
				);
		
		map.put("count_sign", 
				(successFactorFacade.signatureFileControlCountByStatus(idUserSession,"'"+UtilCodesEnum.CODE_STATUS_PPD_SIGNATURE_PENDING.getCode()+"'")+
				 SFAuthoFacade.getAuthorizationCountByUser(idUserSession,"'"+UtilCodesEnum.CODE_MANAGER_PENDING.getCode()+"'","'"+UtilCodesEnum.CODE_MANAGER_PENDING.getCode()+"'"))
				);
		
		return Response.status(200).entity(map).build();
	}
	
	@GET
	@Path("/signatures/observation/{id}")
	@Produces(MediaType.APPLICATION_JSON)
	public Response getSigningProcess(@PathParam("id") String id) {
		List<DocInfoDto> doc = new ArrayList<DocInfoDto>();

		try 
		{
			PpdSigningDataDto dataSigning = ppdGeneratorFacade.wServiceGetSigningProcess(id);
						
			return Response.status(200).entity(dataSigning).build();

		} catch (Exception ex) {

			logger.error("> error - Connection was not working with PPDoc");
			logger.error(ex.toString());

			return Response.status(200).entity(doc).build();
		}
	}

}
